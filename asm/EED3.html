<!DOCTYPE html>
<html>
<head>
<title>The Great Escape: Routine at EED3</title>
<meta charset="utf-8" />
<link rel="stylesheet" type="text/css" href="../skoolkit.css" />
<link rel="stylesheet" type="text/css" href="../TheGreatEscape.css" />

</head>
<body class="Asm-c">
<table class="header">
<tr>
<td class="logo"><a href="../index.html"><img alt="logo" src="../images/logo.png" /></a></td>
<td class="page-header">Routines</td>
</tr>
</table>
<table class="asm-navigation">
<tr>
<td class="prev"><span class="prev-1">Prev: <a href="EDD3.html">EDD3</a></span></td>
<td class="up">Up: <a href="../maps/all.html#eed3">Map</a></td>
<td class="next"><span class="next-1">Next: <a href="EF9A.html">EF9A</a></span></td>
</tr>
</table>
<div class="description">EED3: Plot the game screen.</div>
<table class="disassembly">
<tr>
<td class="routine-comment" colspan="4">
<div class="details">
<div class="paragraph">
Used by the routines at <a href="9D7B.html">9D7B</a> and <a href="A50B.html">A50B</a>.
</div>
</div>
<table class="input-0">
<tr class="asm-input-header">
<th colspan="2">Input</th>
</tr>

</table>
<table class="output-0">
<tr class="asm-output-header">
<th colspan="2">Output</th>
</tr>

</table>
</td>
</tr>
<tr>
<td class="asm-label-0"></td>
<td class="address-2"><span id="eed3"></span>EED3</td>
<td class="instruction">LD ($EDD1),SP</td>
<td class="comment-11" rowspan="1">saved_sp = SP;</td>
</tr>
<tr>
<td class="asm-label-0"></td>
<td class="address-1"><span id="eed7"></span>EED7</td>
<td class="instruction">LD A,($A7C8)</td>
<td class="comment-11" rowspan="1">A = *(&amp;game_window_offset + 1);</td>
</tr>
<tr>
<td class="asm-label-0"></td>
<td class="address-1"><span id="eeda"></span>EEDA</td>
<td class="instruction">AND A</td>
<td class="comment-11" rowspan="2">if (A) goto unaligned;</td>
</tr>
<tr>
<td class="asm-label-0"></td>
<td class="address-1"><span id="eedb"></span>EEDB</td>
<td class="instruction">JP NZ,$EF27</td>
<td class="comment-01" rowspan="1"></td>
</tr>
<tr>
<td class="asm-label-0"></td>
<td class="address-1"><span id="eede"></span>EEDE</td>
<td class="instruction">LD HL,$F291</td>
<td class="comment-11" rowspan="6">HL = $F291 + game_window_offset;</td>
</tr>
<tr>
<td class="asm-label-0"></td>
<td class="address-1"><span id="eee1"></span>EEE1</td>
<td class="instruction">LD A,($A7C7)</td>
<td class="comment-01" rowspan="1"></td>
</tr>
<tr>
<td class="asm-label-0"></td>
<td class="address-1"><span id="eee4"></span>EEE4</td>
<td class="instruction">ADD A,L</td>
<td class="comment-01" rowspan="1"></td>
</tr>
<tr>
<td class="asm-label-0"></td>
<td class="address-1"><span id="eee5"></span>EEE5</td>
<td class="instruction">JR NC,$EEE8</td>
<td class="comment-01" rowspan="1"></td>
</tr>
<tr>
<td class="asm-label-0"></td>
<td class="address-1"><span id="eee7"></span>EEE7</td>
<td class="instruction">INC H</td>
<td class="comment-01" rowspan="1"></td>
</tr>
<tr>
<td class="asm-label-0"></td>
<td class="address-2"><span id="eee8"></span>EEE8</td>
<td class="instruction">LD L,A</td>
<td class="comment-01" rowspan="1"></td>
</tr>
<tr>
<td class="asm-label-0"></td>
<td class="address-1"><span id="eee9"></span>EEE9</td>
<td class="instruction">LD SP,$EDD3</td>
<td class="comment-11" rowspan="1">SP = game_window_start_addresses;</td>
</tr>
<tr>
<td class="asm-label-0"></td>
<td class="address-1"><span id="eeec"></span>EEEC</td>
<td class="instruction">LD A,$80</td>
<td class="comment-11" rowspan="1">A = 128; // 128 rows</td>
</tr>
<tr>
<td class="asm-label-0"></td>
<td class="address-2"><span id="eeee"></span>EEEE</td>
<td class="instruction">POP DE</td>
<td class="comment-11" rowspan="1">do &lt;% DE = *SP++; // output address</td>
</tr>
<tr>
<td class="asm-label-0"></td>
<td class="address-1"><span id="eeef"></span>EEEF</td>
<td class="instruction">LDI</td>
<td class="comment-11" rowspan="1">*DE++ = *HL++; /* unrolled: 23 copies */</td>
</tr>
<tr>
<td class="asm-label-0"></td>
<td class="address-1"><span id="eef1"></span>EEF1</td>
<td class="instruction">LDI</td>
<td class="comment-11" rowspan="1">*DE++ = *HL++;</td>
</tr>
<tr>
<td class="asm-label-0"></td>
<td class="address-1"><span id="eef3"></span>EEF3</td>
<td class="instruction">LDI</td>
<td class="comment-11" rowspan="1">*DE++ = *HL++;</td>
</tr>
<tr>
<td class="asm-label-0"></td>
<td class="address-1"><span id="eef5"></span>EEF5</td>
<td class="instruction">LDI</td>
<td class="comment-11" rowspan="1">*DE++ = *HL++;</td>
</tr>
<tr>
<td class="asm-label-0"></td>
<td class="address-1"><span id="eef7"></span>EEF7</td>
<td class="instruction">LDI</td>
<td class="comment-11" rowspan="1">*DE++ = *HL++;</td>
</tr>
<tr>
<td class="asm-label-0"></td>
<td class="address-1"><span id="eef9"></span>EEF9</td>
<td class="instruction">LDI</td>
<td class="comment-11" rowspan="1">*DE++ = *HL++;</td>
</tr>
<tr>
<td class="asm-label-0"></td>
<td class="address-1"><span id="eefb"></span>EEFB</td>
<td class="instruction">LDI</td>
<td class="comment-11" rowspan="1">*DE++ = *HL++;</td>
</tr>
<tr>
<td class="asm-label-0"></td>
<td class="address-1"><span id="eefd"></span>EEFD</td>
<td class="instruction">LDI</td>
<td class="comment-11" rowspan="1">*DE++ = *HL++;</td>
</tr>
<tr>
<td class="asm-label-0"></td>
<td class="address-1"><span id="eeff"></span>EEFF</td>
<td class="instruction">LDI</td>
<td class="comment-11" rowspan="1">*DE++ = *HL++;</td>
</tr>
<tr>
<td class="asm-label-0"></td>
<td class="address-1"><span id="ef01"></span>EF01</td>
<td class="instruction">LDI</td>
<td class="comment-11" rowspan="1">*DE++ = *HL++;</td>
</tr>
<tr>
<td class="asm-label-0"></td>
<td class="address-1"><span id="ef03"></span>EF03</td>
<td class="instruction">LDI</td>
<td class="comment-11" rowspan="1">*DE++ = *HL++;</td>
</tr>
<tr>
<td class="asm-label-0"></td>
<td class="address-1"><span id="ef05"></span>EF05</td>
<td class="instruction">LDI</td>
<td class="comment-11" rowspan="1">*DE++ = *HL++;</td>
</tr>
<tr>
<td class="asm-label-0"></td>
<td class="address-1"><span id="ef07"></span>EF07</td>
<td class="instruction">LDI</td>
<td class="comment-11" rowspan="1">*DE++ = *HL++;</td>
</tr>
<tr>
<td class="asm-label-0"></td>
<td class="address-1"><span id="ef09"></span>EF09</td>
<td class="instruction">LDI</td>
<td class="comment-11" rowspan="1">*DE++ = *HL++;</td>
</tr>
<tr>
<td class="asm-label-0"></td>
<td class="address-1"><span id="ef0b"></span>EF0B</td>
<td class="instruction">LDI</td>
<td class="comment-11" rowspan="1">*DE++ = *HL++;</td>
</tr>
<tr>
<td class="asm-label-0"></td>
<td class="address-1"><span id="ef0d"></span>EF0D</td>
<td class="instruction">LDI</td>
<td class="comment-11" rowspan="1">*DE++ = *HL++;</td>
</tr>
<tr>
<td class="asm-label-0"></td>
<td class="address-1"><span id="ef0f"></span>EF0F</td>
<td class="instruction">LDI</td>
<td class="comment-11" rowspan="1">*DE++ = *HL++;</td>
</tr>
<tr>
<td class="asm-label-0"></td>
<td class="address-1"><span id="ef11"></span>EF11</td>
<td class="instruction">LDI</td>
<td class="comment-11" rowspan="1">*DE++ = *HL++;</td>
</tr>
<tr>
<td class="asm-label-0"></td>
<td class="address-1"><span id="ef13"></span>EF13</td>
<td class="instruction">LDI</td>
<td class="comment-11" rowspan="1">*DE++ = *HL++;</td>
</tr>
<tr>
<td class="asm-label-0"></td>
<td class="address-1"><span id="ef15"></span>EF15</td>
<td class="instruction">LDI</td>
<td class="comment-11" rowspan="1">*DE++ = *HL++;</td>
</tr>
<tr>
<td class="asm-label-0"></td>
<td class="address-1"><span id="ef17"></span>EF17</td>
<td class="instruction">LDI</td>
<td class="comment-11" rowspan="1">*DE++ = *HL++;</td>
</tr>
<tr>
<td class="asm-label-0"></td>
<td class="address-1"><span id="ef19"></span>EF19</td>
<td class="instruction">LDI</td>
<td class="comment-11" rowspan="1">*DE++ = *HL++;</td>
</tr>
<tr>
<td class="asm-label-0"></td>
<td class="address-1"><span id="ef1b"></span>EF1B</td>
<td class="instruction">LDI</td>
<td class="comment-11" rowspan="1">*DE++ = *HL++;</td>
</tr>
<tr>
<td class="asm-label-0"></td>
<td class="address-1"><span id="ef1d"></span>EF1D</td>
<td class="instruction">INC HL</td>
<td class="comment-11" rowspan="1">HL++; // skip 24th</td>
</tr>
<tr>
<td class="asm-label-0"></td>
<td class="address-1"><span id="ef1e"></span>EF1E</td>
<td class="instruction">DEC A</td>
<td class="comment-11" rowspan="2">%&gt; while (--A);</td>
</tr>
<tr>
<td class="asm-label-0"></td>
<td class="address-1"><span id="ef1f"></span>EF1F</td>
<td class="instruction">JP NZ,$EEEE</td>
<td class="comment-01" rowspan="1"></td>
</tr>
<tr>
<td class="asm-label-0"></td>
<td class="address-1"><span id="ef22"></span>EF22</td>
<td class="instruction">LD SP,($EDD1)</td>
<td class="comment-11" rowspan="1">SP = saved_sp;</td>
</tr>
<tr>
<td class="asm-label-0"></td>
<td class="address-1"><span id="ef26"></span>EF26</td>
<td class="instruction">RET</td>
<td class="comment-11" rowspan="1">return;</td>
</tr>
<tr>
<td class="asm-label-0"></td>
<td class="address-2"><span id="ef27"></span>EF27</td>
<td class="instruction">LD HL,$F290</td>
<td class="comment-11" rowspan="6">unaligned: HL = $F290 + game_window_offset; // screen buffer start address</td>
</tr>
<tr>
<td class="asm-label-0"></td>
<td class="address-1"><span id="ef2a"></span>EF2A</td>
<td class="instruction">LD A,($A7C7)</td>
<td class="comment-01" rowspan="1"></td>
</tr>
<tr>
<td class="asm-label-0"></td>
<td class="address-1"><span id="ef2d"></span>EF2D</td>
<td class="instruction">ADD A,L</td>
<td class="comment-01" rowspan="1"></td>
</tr>
<tr>
<td class="asm-label-0"></td>
<td class="address-1"><span id="ef2e"></span>EF2E</td>
<td class="instruction">JR NC,$EF31</td>
<td class="comment-01" rowspan="1"></td>
</tr>
<tr>
<td class="asm-label-0"></td>
<td class="address-1"><span id="ef30"></span>EF30</td>
<td class="instruction">INC H</td>
<td class="comment-01" rowspan="1"></td>
</tr>
<tr>
<td class="asm-label-0"></td>
<td class="address-2"><span id="ef31"></span>EF31</td>
<td class="instruction">LD L,A</td>
<td class="comment-01" rowspan="1"></td>
</tr>
<tr>
<td class="asm-label-0"></td>
<td class="address-1"><span id="ef32"></span>EF32</td>
<td class="instruction">LD A,(HL)</td>
<td class="comment-11" rowspan="2">A = *HL++; // prime A</td>
</tr>
<tr>
<td class="asm-label-0"></td>
<td class="address-1"><span id="ef33"></span>EF33</td>
<td class="instruction">INC L</td>
<td class="comment-01" rowspan="1"></td>
</tr>
<tr>
<td class="asm-label-0"></td>
<td class="address-1"><span id="ef34"></span>EF34</td>
<td class="instruction">LD SP,$EDD3</td>
<td class="comment-11" rowspan="1">SP = game_window_start_addresses;</td>
</tr>
<tr>
<td class="asm-label-0"></td>
<td class="address-1"><span id="ef37"></span>EF37</td>
<td class="instruction">EXX</td>
<td class="comment-11" rowspan="2">Bdash = 128; // 128 rows</td>
</tr>
<tr>
<td class="asm-label-0"></td>
<td class="address-1"><span id="ef38"></span>EF38</td>
<td class="instruction">LD B,$80</td>
<td class="comment-01" rowspan="1"></td>
</tr>
<tr>
<td class="asm-label-0"></td>
<td class="address-2"><span id="ef3a"></span>EF3A</td>
<td class="instruction">EXX</td>
<td class="comment-11" rowspan="1">do &lt;%</td>
</tr>
<tr>
<td class="asm-label-0"></td>
<td class="address-1"><span id="ef3b"></span>EF3B</td>
<td class="instruction">POP DE</td>
<td class="comment-11" rowspan="1">// output address</td>
</tr>
<tr>
<td class="asm-label-0"></td>
<td class="address-1"><span id="ef3c"></span>EF3C</td>
<td class="instruction">LD B,$04</td>
<td class="comment-11" rowspan="1">B = 4; // 4 iterations of 5 plus 3 at the end == 23</td>
</tr>
<tr>
<td class="asm-label-0"></td>
<td class="address-2"><span id="ef3e"></span>EF3E</td>
<td class="instruction">LD C,(HL)</td>
<td class="comment-11" rowspan="1">do &lt;% C = *HL;</td>
</tr>
<tr>
<td class="asm-label-0"></td>
<td class="address-1"><span id="ef3f"></span>EF3F</td>
<td class="instruction">RRD</td>
<td class="comment-11" rowspan="1">RRD does this: tmp = *HL &amp; 0x0F; *HL = (*HL &gt;&gt; 4) | (A &lt;&lt; 4); A = (A &amp; 0xF0) | tmp;</td>
</tr>
<tr>
<td class="asm-label-0"></td>
<td class="address-1"><span id="ef41"></span>EF41</td>
<td class="instruction">EX AF,AF'</td>
<td class="comment-11" rowspan="1"></td>
</tr>
<tr>
<td class="asm-label-0"></td>
<td class="address-1"><span id="ef42"></span>EF42</td>
<td class="instruction">LD A,(HL)</td>
<td class="comment-11" rowspan="1">Adash = *HL;</td>
</tr>
<tr>
<td class="asm-label-0"></td>
<td class="address-1"><span id="ef43"></span>EF43</td>
<td class="instruction">LD (DE),A</td>
<td class="comment-11" rowspan="1">*DE++ = Adash;</td>
</tr>
<tr>
<td class="asm-label-0"></td>
<td class="address-1"><span id="ef44"></span>EF44</td>
<td class="instruction">LD (HL),C</td>
<td class="comment-11" rowspan="4">*HL++ = C;</td>
</tr>
<tr>
<td class="asm-label-0"></td>
<td class="address-1"><span id="ef45"></span>EF45</td>
<td class="instruction">EX AF,AF'</td>
<td class="comment-01" rowspan="1"></td>
</tr>
<tr>
<td class="asm-label-0"></td>
<td class="address-1"><span id="ef46"></span>EF46</td>
<td class="instruction">INC HL</td>
<td class="comment-01" rowspan="1"></td>
</tr>
<tr>
<td class="asm-label-0"></td>
<td class="address-1"><span id="ef47"></span>EF47</td>
<td class="instruction">INC E</td>
<td class="comment-01" rowspan="1"></td>
</tr>
<tr>
<td class="asm-label-0"></td>
<td class="address-1"><span id="ef48"></span>EF48</td>
<td class="instruction">LD C,(HL)</td>
<td class="comment-11" rowspan="1">C = *HL;</td>
</tr>
<tr>
<td class="asm-label-0"></td>
<td class="address-1"><span id="ef49"></span>EF49</td>
<td class="instruction">RRD</td>
<td class="comment-11" rowspan="2">RRD</td>
</tr>
<tr>
<td class="asm-label-0"></td>
<td class="address-1"><span id="ef4b"></span>EF4B</td>
<td class="instruction">EX AF,AF'</td>
<td class="comment-01" rowspan="1"></td>
</tr>
<tr>
<td class="asm-label-0"></td>
<td class="address-1"><span id="ef4c"></span>EF4C</td>
<td class="instruction">LD A,(HL)</td>
<td class="comment-11" rowspan="1">Adash = *HL;</td>
</tr>
<tr>
<td class="asm-label-0"></td>
<td class="address-1"><span id="ef4d"></span>EF4D</td>
<td class="instruction">LD (DE),A</td>
<td class="comment-11" rowspan="1">*DE++ = Adash;</td>
</tr>
<tr>
<td class="asm-label-0"></td>
<td class="address-1"><span id="ef4e"></span>EF4E</td>
<td class="instruction">LD (HL),C</td>
<td class="comment-11" rowspan="4">*HL++ = C;</td>
</tr>
<tr>
<td class="asm-label-0"></td>
<td class="address-1"><span id="ef4f"></span>EF4F</td>
<td class="instruction">EX AF,AF'</td>
<td class="comment-01" rowspan="1"></td>
</tr>
<tr>
<td class="asm-label-0"></td>
<td class="address-1"><span id="ef50"></span>EF50</td>
<td class="instruction">INC HL</td>
<td class="comment-01" rowspan="1"></td>
</tr>
<tr>
<td class="asm-label-0"></td>
<td class="address-1"><span id="ef51"></span>EF51</td>
<td class="instruction">INC E</td>
<td class="comment-01" rowspan="1"></td>
</tr>
<tr>
<td class="asm-label-0"></td>
<td class="address-1"><span id="ef52"></span>EF52</td>
<td class="instruction">LD C,(HL)</td>
<td class="comment-11" rowspan="1">C = *HL;</td>
</tr>
<tr>
<td class="asm-label-0"></td>
<td class="address-1"><span id="ef53"></span>EF53</td>
<td class="instruction">RRD</td>
<td class="comment-11" rowspan="2">RRD</td>
</tr>
<tr>
<td class="asm-label-0"></td>
<td class="address-1"><span id="ef55"></span>EF55</td>
<td class="instruction">EX AF,AF'</td>
<td class="comment-01" rowspan="1"></td>
</tr>
<tr>
<td class="asm-label-0"></td>
<td class="address-1"><span id="ef56"></span>EF56</td>
<td class="instruction">LD A,(HL)</td>
<td class="comment-11" rowspan="1">Adash = *HL;</td>
</tr>
<tr>
<td class="asm-label-0"></td>
<td class="address-1"><span id="ef57"></span>EF57</td>
<td class="instruction">LD (DE),A</td>
<td class="comment-11" rowspan="1">*DE++ = Adash;</td>
</tr>
<tr>
<td class="asm-label-0"></td>
<td class="address-1"><span id="ef58"></span>EF58</td>
<td class="instruction">LD (HL),C</td>
<td class="comment-11" rowspan="4">*HL++ = C;</td>
</tr>
<tr>
<td class="asm-label-0"></td>
<td class="address-1"><span id="ef59"></span>EF59</td>
<td class="instruction">EX AF,AF'</td>
<td class="comment-01" rowspan="1"></td>
</tr>
<tr>
<td class="asm-label-0"></td>
<td class="address-1"><span id="ef5a"></span>EF5A</td>
<td class="instruction">INC HL</td>
<td class="comment-01" rowspan="1"></td>
</tr>
<tr>
<td class="asm-label-0"></td>
<td class="address-1"><span id="ef5b"></span>EF5B</td>
<td class="instruction">INC E</td>
<td class="comment-01" rowspan="1"></td>
</tr>
<tr>
<td class="asm-label-0"></td>
<td class="address-1"><span id="ef5c"></span>EF5C</td>
<td class="instruction">LD C,(HL)</td>
<td class="comment-11" rowspan="1">C = *HL;</td>
</tr>
<tr>
<td class="asm-label-0"></td>
<td class="address-1"><span id="ef5d"></span>EF5D</td>
<td class="instruction">RRD</td>
<td class="comment-11" rowspan="2">RRD</td>
</tr>
<tr>
<td class="asm-label-0"></td>
<td class="address-1"><span id="ef5f"></span>EF5F</td>
<td class="instruction">EX AF,AF'</td>
<td class="comment-01" rowspan="1"></td>
</tr>
<tr>
<td class="asm-label-0"></td>
<td class="address-1"><span id="ef60"></span>EF60</td>
<td class="instruction">LD A,(HL)</td>
<td class="comment-11" rowspan="1">Adash = *HL;</td>
</tr>
<tr>
<td class="asm-label-0"></td>
<td class="address-1"><span id="ef61"></span>EF61</td>
<td class="instruction">LD (DE),A</td>
<td class="comment-11" rowspan="1">*DE++ = Adash;</td>
</tr>
<tr>
<td class="asm-label-0"></td>
<td class="address-1"><span id="ef62"></span>EF62</td>
<td class="instruction">LD (HL),C</td>
<td class="comment-11" rowspan="4">*HL++ = C;</td>
</tr>
<tr>
<td class="asm-label-0"></td>
<td class="address-1"><span id="ef63"></span>EF63</td>
<td class="instruction">EX AF,AF'</td>
<td class="comment-01" rowspan="1"></td>
</tr>
<tr>
<td class="asm-label-0"></td>
<td class="address-1"><span id="ef64"></span>EF64</td>
<td class="instruction">INC HL</td>
<td class="comment-01" rowspan="1"></td>
</tr>
<tr>
<td class="asm-label-0"></td>
<td class="address-1"><span id="ef65"></span>EF65</td>
<td class="instruction">INC E</td>
<td class="comment-01" rowspan="1"></td>
</tr>
<tr>
<td class="asm-label-0"></td>
<td class="address-1"><span id="ef66"></span>EF66</td>
<td class="instruction">LD C,(HL)</td>
<td class="comment-11" rowspan="1">C = *HL;</td>
</tr>
<tr>
<td class="asm-label-0"></td>
<td class="address-1"><span id="ef67"></span>EF67</td>
<td class="instruction">RRD</td>
<td class="comment-11" rowspan="2">RRD</td>
</tr>
<tr>
<td class="asm-label-0"></td>
<td class="address-1"><span id="ef69"></span>EF69</td>
<td class="instruction">EX AF,AF'</td>
<td class="comment-01" rowspan="1"></td>
</tr>
<tr>
<td class="asm-label-0"></td>
<td class="address-1"><span id="ef6a"></span>EF6A</td>
<td class="instruction">LD A,(HL)</td>
<td class="comment-11" rowspan="1">Adash = *HL;</td>
</tr>
<tr>
<td class="asm-label-0"></td>
<td class="address-1"><span id="ef6b"></span>EF6B</td>
<td class="instruction">LD (DE),A</td>
<td class="comment-11" rowspan="1">*DE++ = Adash;</td>
</tr>
<tr>
<td class="asm-label-0"></td>
<td class="address-1"><span id="ef6c"></span>EF6C</td>
<td class="instruction">LD (HL),C</td>
<td class="comment-11" rowspan="4">*HL++ = C;</td>
</tr>
<tr>
<td class="asm-label-0"></td>
<td class="address-1"><span id="ef6d"></span>EF6D</td>
<td class="instruction">EX AF,AF'</td>
<td class="comment-01" rowspan="1"></td>
</tr>
<tr>
<td class="asm-label-0"></td>
<td class="address-1"><span id="ef6e"></span>EF6E</td>
<td class="instruction">INC HL</td>
<td class="comment-01" rowspan="1"></td>
</tr>
<tr>
<td class="asm-label-0"></td>
<td class="address-1"><span id="ef6f"></span>EF6F</td>
<td class="instruction">INC E</td>
<td class="comment-01" rowspan="1"></td>
</tr>
<tr>
<td class="asm-label-0"></td>
<td class="address-1"><span id="ef70"></span>EF70</td>
<td class="instruction">DJNZ $EF3E</td>
<td class="comment-11" rowspan="1">%&gt; while (--B);</td>
</tr>
<tr>
<td class="asm-label-0"></td>
<td class="address-1"><span id="ef72"></span>EF72</td>
<td class="instruction">LD C,(HL)</td>
<td class="comment-11" rowspan="1">C = *HL;</td>
</tr>
<tr>
<td class="asm-label-0"></td>
<td class="address-1"><span id="ef73"></span>EF73</td>
<td class="instruction">RRD</td>
<td class="comment-11" rowspan="2">RRD</td>
</tr>
<tr>
<td class="asm-label-0"></td>
<td class="address-1"><span id="ef75"></span>EF75</td>
<td class="instruction">EX AF,AF'</td>
<td class="comment-01" rowspan="1"></td>
</tr>
<tr>
<td class="asm-label-0"></td>
<td class="address-1"><span id="ef76"></span>EF76</td>
<td class="instruction">LD A,(HL)</td>
<td class="comment-11" rowspan="1">Adash = *HL;</td>
</tr>
<tr>
<td class="asm-label-0"></td>
<td class="address-1"><span id="ef77"></span>EF77</td>
<td class="instruction">LD (DE),A</td>
<td class="comment-11" rowspan="1">*DE++ = Adash;</td>
</tr>
<tr>
<td class="asm-label-0"></td>
<td class="address-1"><span id="ef78"></span>EF78</td>
<td class="instruction">LD (HL),C</td>
<td class="comment-11" rowspan="4">*HL++ = C;</td>
</tr>
<tr>
<td class="asm-label-0"></td>
<td class="address-1"><span id="ef79"></span>EF79</td>
<td class="instruction">EX AF,AF'</td>
<td class="comment-01" rowspan="1"></td>
</tr>
<tr>
<td class="asm-label-0"></td>
<td class="address-1"><span id="ef7a"></span>EF7A</td>
<td class="instruction">INC HL</td>
<td class="comment-01" rowspan="1"></td>
</tr>
<tr>
<td class="asm-label-0"></td>
<td class="address-1"><span id="ef7b"></span>EF7B</td>
<td class="instruction">INC E</td>
<td class="comment-01" rowspan="1"></td>
</tr>
<tr>
<td class="asm-label-0"></td>
<td class="address-1"><span id="ef7c"></span>EF7C</td>
<td class="instruction">LD C,(HL)</td>
<td class="comment-11" rowspan="1">C = *HL;</td>
</tr>
<tr>
<td class="asm-label-0"></td>
<td class="address-1"><span id="ef7d"></span>EF7D</td>
<td class="instruction">RRD</td>
<td class="comment-11" rowspan="2">RRD</td>
</tr>
<tr>
<td class="asm-label-0"></td>
<td class="address-1"><span id="ef7f"></span>EF7F</td>
<td class="instruction">EX AF,AF'</td>
<td class="comment-01" rowspan="1"></td>
</tr>
<tr>
<td class="asm-label-0"></td>
<td class="address-1"><span id="ef80"></span>EF80</td>
<td class="instruction">LD A,(HL)</td>
<td class="comment-11" rowspan="1">Adash = *HL;</td>
</tr>
<tr>
<td class="asm-label-0"></td>
<td class="address-1"><span id="ef81"></span>EF81</td>
<td class="instruction">LD (DE),A</td>
<td class="comment-11" rowspan="1">*DE++ = Adash;</td>
</tr>
<tr>
<td class="asm-label-0"></td>
<td class="address-1"><span id="ef82"></span>EF82</td>
<td class="instruction">LD (HL),C</td>
<td class="comment-11" rowspan="4">*HL++ = C;</td>
</tr>
<tr>
<td class="asm-label-0"></td>
<td class="address-1"><span id="ef83"></span>EF83</td>
<td class="instruction">EX AF,AF'</td>
<td class="comment-01" rowspan="1"></td>
</tr>
<tr>
<td class="asm-label-0"></td>
<td class="address-1"><span id="ef84"></span>EF84</td>
<td class="instruction">INC HL</td>
<td class="comment-01" rowspan="1"></td>
</tr>
<tr>
<td class="asm-label-0"></td>
<td class="address-1"><span id="ef85"></span>EF85</td>
<td class="instruction">INC E</td>
<td class="comment-01" rowspan="1"></td>
</tr>
<tr>
<td class="asm-label-0"></td>
<td class="address-1"><span id="ef86"></span>EF86</td>
<td class="instruction">LD C,(HL)</td>
<td class="comment-11" rowspan="1">C = *HL;</td>
</tr>
<tr>
<td class="asm-label-0"></td>
<td class="address-1"><span id="ef87"></span>EF87</td>
<td class="instruction">RRD</td>
<td class="comment-11" rowspan="2">RRD</td>
</tr>
<tr>
<td class="asm-label-0"></td>
<td class="address-1"><span id="ef89"></span>EF89</td>
<td class="instruction">EX AF,AF'</td>
<td class="comment-01" rowspan="1"></td>
</tr>
<tr>
<td class="asm-label-0"></td>
<td class="address-1"><span id="ef8a"></span>EF8A</td>
<td class="instruction">LD A,(HL)</td>
<td class="comment-11" rowspan="1">Adash = *HL;</td>
</tr>
<tr>
<td class="asm-label-0"></td>
<td class="address-1"><span id="ef8b"></span>EF8B</td>
<td class="instruction">LD (DE),A</td>
<td class="comment-11" rowspan="1">*DE++ = Adash;</td>
</tr>
<tr>
<td class="asm-label-0"></td>
<td class="address-1"><span id="ef8c"></span>EF8C</td>
<td class="instruction">LD (HL),C</td>
<td class="comment-11" rowspan="4">*HL++ = C;</td>
</tr>
<tr>
<td class="asm-label-0"></td>
<td class="address-1"><span id="ef8d"></span>EF8D</td>
<td class="instruction">EX AF,AF'</td>
<td class="comment-01" rowspan="1"></td>
</tr>
<tr>
<td class="asm-label-0"></td>
<td class="address-1"><span id="ef8e"></span>EF8E</td>
<td class="instruction">INC HL</td>
<td class="comment-01" rowspan="1"></td>
</tr>
<tr>
<td class="asm-label-0"></td>
<td class="address-1"><span id="ef8f"></span>EF8F</td>
<td class="instruction">INC E</td>
<td class="comment-01" rowspan="1"></td>
</tr>
<tr>
<td class="asm-label-0"></td>
<td class="address-1"><span id="ef90"></span>EF90</td>
<td class="instruction">LD A,(HL)</td>
<td class="comment-11" rowspan="3">A = *HL++;</td>
</tr>
<tr>
<td class="asm-label-0"></td>
<td class="address-1"><span id="ef91"></span>EF91</td>
<td class="instruction">INC HL</td>
<td class="comment-01" rowspan="1"></td>
</tr>
<tr>
<td class="asm-label-0"></td>
<td class="address-1"><span id="ef92"></span>EF92</td>
<td class="instruction">EXX</td>
<td class="comment-01" rowspan="1"></td>
</tr>
<tr>
<td class="asm-label-0"></td>
<td class="address-1"><span id="ef93"></span>EF93</td>
<td class="instruction">DJNZ $EF3A</td>
<td class="comment-11" rowspan="1">%&gt; while (--Bdash);</td>
</tr>
<tr>
<td class="asm-label-0"></td>
<td class="address-1"><span id="ef95"></span>EF95</td>
<td class="instruction">LD SP,($EDD1)</td>
<td class="comment-11" rowspan="1">SP = saved_sp;</td>
</tr>
<tr>
<td class="asm-label-0"></td>
<td class="address-1"><span id="ef99"></span>EF99</td>
<td class="instruction">RET</td>
<td class="comment-11" rowspan="1">return;</td>
</tr>
</table>
<table class="asm-navigation">
<tr>
<td class="prev"><span class="prev-1">Prev: <a href="EDD3.html">EDD3</a></span></td>
<td class="up">Up: <a href="../maps/all.html#eed3">Map</a></td>
<td class="next"><span class="next-1">Next: <a href="EF9A.html">EF9A</a></span></td>
</tr>
</table>
<footer>
<div class="release">The incomplete The Great Escape disassembly 20170325</div>
<div class="copyright">&copy; Denton Designs. Ocean. David Thomas.</div>
<div class="created">Created using <a href="http://skoolkit.ca/">SkoolKit</a> 5.4.</div>
</footer>
</body>
</html>